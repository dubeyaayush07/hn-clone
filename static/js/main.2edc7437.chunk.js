(this["webpackJsonphn-clone"]=this["webpackJsonphn-clone"]||[]).push([[0],{136:function(e,t,n){e.exports=n(228)},141:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),l=(n(141),n(71)),i=n(34),u=n(24),s=n(57),m=n.n(s),f=n(91),d=n(92),h=n.n(d),E="https://hacker-news.firebaseio.com/v0/",g="".concat(E,"topstories.json"),p="".concat(E,"item/"),b=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(g).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(p+t,".json")).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(232),w=n(234),k=function(e){var t=e.storyId,n=Object(a.useState)({}),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){v(t).then((function(e){return e&&e.url&&l(e)}))}),[t]),o&&o.url?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{margin:"2rem 0rem"},title:o.title,extra:r.a.createElement("em",null,"By ".concat(o.by))},r.a.createElement(w.a,{style:{marginRight:"0.5rem"},key:"2"},r.a.createElement("a",{href:"story/".concat(t)},"Comments")),r.a.createElement(w.a,{key:"1"},r.a.createElement("a",{href:o.url},"Visit Source")))):null},j=n(235),O=n(133),S=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(0),l=Object(u.a)(o,2),i=l[0],s=l[1],m=Object(a.useState)(10),f=Object(u.a)(m,2),d=f[0],h=f[1];Object(a.useEffect)((function(){b().then((function(e){return c(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{header:r.a.createElement("h2",null,"Top Stories"),itemLayout:"horizontal"},r.a.createElement("div",{style:{marginTop:"2rem"}},n.slice(i,d).map((function(e){return r.a.createElement(k,{key:e,storyId:e})}))," ")),r.a.createElement(O.a,{defaultCurrent:1,defaultPageSize:10,onChange:function(e){e<1||(s(10*(e-1)),h(10*e))},total:n.length,style:{marginTop:"2rem"}}))},x=n(230),C=function(e){var t=e.commentId,n=Object(a.useState)({}),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){v(t).then((function(e){return e&&l(e)}))}),[t]),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{author:o.by,content:r.a.createElement("p",{dangerouslySetInnerHTML:{__html:o.text}})})):null},I=n(233),T=function(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(0),l=Object(u.a)(o,2),s=l[0],m=l[1],f=Object(a.useState)(10),d=Object(u.a)(f,2),h=d[0],E=d[1],g=Object(i.f)().id;Object(a.useEffect)((function(){v(g).then((function(e){return e&&e.url&&c(e)}))}),[g]);return n&&n.url?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(I.a,{onBack:function(){return window.history.back()},title:n.title,extra:[r.a.createElement(w.a,{key:"1"},r.a.createElement("a",{href:n.url},"Visit Source"))]})),r.a.createElement(j.a,{className:"comment-list",header:"".concat(n.kids?n.kids.length:0," replies"),itemLayout:"horizontal"},r.a.createElement("div",null,n.kids?n.kids.slice(s,h).map((function(e){return r.a.createElement(C,{key:e,commentId:e})})):null)),r.a.createElement(O.a,{defaultCurrent:1,defaultPageSize:10,onChange:function(e){e<1||(m(10*(e-1)),E(10*e))},total:n.kids?n.kids.length:0,style:{marginTop:"2rem"}})):null},W=(n(227),n(231)),z=n(97),A=W.a.Header,L=W.a.Content,N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement((function(){return r.a.createElement(l.a,null,r.a.createElement(W.a,{className:"layout"},r.a.createElement(A,null,r.a.createElement(z.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(z.a.Item,{key:"1",style:{fontSize:"1.2rem"}},r.a.createElement(l.b,{to:"/"},"Hacker News")))),r.a.createElement(L,{style:{padding:"3rem 4rem"}},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(i.a,{path:"/story/:id",children:r.a.createElement(T,null)})))))}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hn-clone",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hn-clone","/service-worker.js");N?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):B(t,e)}))}}()}},[[136,1,2]]]);
//# sourceMappingURL=main.2edc7437.chunk.js.map